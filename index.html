<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="manifest" href="manifest.json" />
<meta name="theme-color" content="#000000" />
<link rel="apple-touch-icon" href="icon-192.png" />
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/service-worker.js');
  }
</script>
  <meta charset="UTF-8" />
  <title>Dstretch Web Prototype</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="container">
    <h1>Dstretch</h1>

    <div class="step splash" id="splash">
      <button id="start">ğŸŸ¡ Get Started</button>
    </div>

    <div class="step upload" id="upload-step" hidden>
      <button id="open-camera">ğŸ“· Use Camera</button>
      <input type="file" id="upload" accept="image/*" />
      <video id="camera" autoplay playsinline hidden></video>
      <img id="preview-image" src="" alt="Preview" hidden />
    </div>

    <div class="step process" id="process-step" hidden>
      <label>ğŸšï¸ Strength: <span id="strength-value">1.0</span></label>
      <input type="range" id="strength" min="0.1" max="3.0" step="0.1" value="1.0" />
      <button id="process">ğŸ¨ Apply Decorrelation Stretch</button>
    </div>

    <canvas id="canvas" hidden></canvas>

    <div class="step result" id="result-step" hidden>
      <h2>ğŸ–¼ï¸ Result</h2>
      <img id="result-image" src="" alt="Result" />
      <button id="download">ğŸ“¥ Save / Share</button>
    </div>
  </div>
  <script src="script.js"></script>
</body>
</html>
